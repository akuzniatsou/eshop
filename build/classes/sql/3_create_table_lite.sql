CREATE TABLE person(
  id INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  name VARCHAR(80) NOT NULL,
  surname VARCHAR(80) DEFAULT NULL,
  email VARCHAR(254) NOT NULL,
  address VARCHAR(255) DEFAULT NULL,
  phone VARCHAR(50) DEFAULT NULL,
  PRIMARY KEY (id))
ENGINE = INNODB
AUTO_INCREMENT = 1
CHARACTER SET utf8
COLLATE utf8_general_ci;

CREATE TABLE user_role(
  id INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  role VARCHAR(15) NOT NULL,
  PRIMARY KEY (id))
ENGINE = INNODB
AUTO_INCREMENT = 1
CHARACTER SET utf8
COLLATE utf8_general_ci;

CREATE TABLE user(
  id INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  login VARCHAR(50) NOT NULL,
  `password` VARCHAR(32) DEFAULT NULL,
  role_id INT(11) UNSIGNED NOT NULL,
  person_id INT(11) UNSIGNED NOT NULL,
  PRIMARY KEY (id),
  UNIQUE INDEX login (login),
  CONSTRAINT FK_user_person_id FOREIGN KEY (person_id)
  REFERENCES person (id) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT FK_user_user_role_id FOREIGN KEY (role_id)
  REFERENCES user_role (id) ON DELETE RESTRICT ON UPDATE RESTRICT)
ENGINE = INNODB
AUTO_INCREMENT = 1
CHARACTER SET utf8
COLLATE utf8_general_ci;

CREATE TABLE type(
  id INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  product_type VARCHAR(50) DEFAULT NULL,
  PRIMARY KEY (id))
ENGINE = INNODB
AUTO_INCREMENT = 1
CHARACTER SET utf8
COLLATE utf8_general_ci;

CREATE TABLE brand(
  id INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  product_brand VARCHAR(50) DEFAULT NULL,
  PRIMARY KEY (id))
ENGINE = INNODB
AUTO_INCREMENT = 1
CHARACTER SET utf8
COLLATE utf8_general_ci;

CREATE TABLE product(
  id INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  type_id INT(11) UNSIGNED NOT NULL,
  brand_id INT(11) UNSIGNED NOT NULL,
  name VARCHAR(50) NOT NULL,
  cost DOUBLE(7, 2) UNSIGNED DEFAULT NULL,
  description VARCHAR(255) DEFAULT NULL,
  PRIMARY KEY (id),
  CONSTRAINT FK_product_brand_id FOREIGN KEY (brand_id)
  REFERENCES brand (id) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT FK_product_type_id FOREIGN KEY (type_id)
  REFERENCES type (id) ON DELETE RESTRICT ON UPDATE RESTRICT)
ENGINE = INNODB
AUTO_INCREMENT = 1
CHARACTER SET utf8
COLLATE utf8_general_ci;